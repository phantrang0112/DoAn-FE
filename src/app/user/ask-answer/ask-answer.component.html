<div class="container" style="margin-top: 100px;" Ckeditor data-aos="fade-up">
  <div class="section-title">
    <h2>Hỏi đáp với bác sĩ</h2>
  </div>
  <div (click)="clickPost()">
    <p><b>Để lại thắc mắc của bạn chúng tôi sẽ giải đáp chúng !!!</b> </p>
    Gửi thắc mắc:

    <i class="fas fa-paper-plane" style="color: blue;"></i>
    <hr>
  </div>
  <div *ngIf="post">
    <p>Chọn chủ đề câu hỏi:</p>
    <select class="form-select" aria-label="Default select example"
      [formControl]="topic">
      <option *ngFor="let item of listTopics" value="{{item.topicid}}">{{item.topicname}}</option>
    </select>
    <small *ngIf="topic.invalid&& topic.touched" style="color: red;">* Chọn chủ
      đề câu hỏi</small>
    <hr>
    <ckeditor (change)="onChange($event)"></ckeditor>
    <button (click)="registerAnswer()" style="margin-top: 30px;" class="btn
      btn-primary">Đăng</button>

  </div>


  <div>
    <hr>
    <h4>Danh sách các câu hỏi</h4>
    <mat-accordion *ngFor="let item of listQuestion">
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            <img src="assets/{{item.img}}" style="width:30px ;height:30px ;
              border-radius: 50%; margin-right: 20px;" />
            <span>Bệnh nhân {{item.questionDTO.accountName}}</span>
          </mat-panel-title>
          <mat-panel-description [innerHtml]="item.questionDTO.questionContent">
          </mat-panel-description>
          <mat-panel-description class="justify-content-end">
            {{item.questionDTO.date|date:'dd-MM-yyyy'}}
          </mat-panel-description>

        </mat-expansion-panel-header>
        <div style="margin-left: 50px;">
          <div  *ngFor="let rep of item.listAnswer ">
            <div style="display: flex;">
              <img src="assets/bv2.jpg" style="width:30px ;height:30px ;
                border-radius: 50%; margin-right: 20px;" />
              <mat-panel-title>Bác sĩ #{{rep.accountName}}</mat-panel-title>
            </div>

            <mat-panel-description style="margin-left: 50px;">{{rep.answercontent}}</mat-panel-description>
            <mat-panel-description class="justify-content-end">
              {{rep.date|date:'dd-MM-yyyy'}}
            </mat-panel-description>
          </div>
          <hr>
          <div style="width: 100%;">
            <mat-form-field class="row">
              <input matInput [formControl]="answer" placeholder="Phản hồi" />
            </mat-form-field>
            <button class="btn btn-primary" style="margin-left: 50px;" (click)="sendAnswer(item.questionDTO.questionId)">gửi</button>
          </div>
        </div>

      </mat-expansion-panel>
    </mat-accordion>
  </div>
</div>
